{% extends 'base.html.twig' %}

{% block title %}Modifier une sortie{% endblock %}

{% block body %}
    <div class="flex-1 overflow-y-auto">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="bg-white/95 backdrop-blur rounded-2xl shadow-xl p-6 md:p-8">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
                    <h1 class="text-2xl md:text-3xl font-semibold text-gray-800">Modifier une sortie</h1>
                </div>

                {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-4">

                    <div class="space-y-3">
                        <div>
                            {{ form_label(form.nom, 'Nom de la sortie', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.nom, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.nom) }}
                        </div>

                        <div>
                            {{ form_label(form.dateHeureDebut, 'Date et heure de la sortie', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.dateHeureDebut, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.dateHeureDebut) }}
                        </div>

                        <div>
                            {{ form_label(form.dateLimiteInscription, "Date limite d'inscription", {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.dateLimiteInscription, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.dateLimiteInscription) }}
                        </div>

                        <div>
                            {{ form_label(form.nbInscriptionsMax, 'Nombre de places', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.nbInscriptionsMax, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.nbInscriptionsMax) }}
                        </div>

                        <div>
                            {{ form_label(form.duree, 'Dur√©e (minutes)', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.duree, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.duree) }}
                        </div>
                    </div>

                    <div class="space-y-3">
                        <div>
                            {{ form_label(form.site, 'Site organisateur', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.site, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.site) }}
                        </div>

                        <div>
                            {{ form_label(form.lieu, 'Lieu', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.lieu, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none'}}) }}
                            {{ form_errors(form.lieu) }}
                        </div>

                        <div>
                            {{ form_label(form.infosSortie, 'Description et infos', {'label_attr': {'class': 'text-sm text-gray-600'}}) }}
                            {{ form_widget(form.infosSortie, {'attr': {'class': 'w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-purple-600 focus:outline-none', 'rows': 8}}) }}
                            {{ form_errors(form.infosSortie) }}
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4">
                    <button type="submit"
                            class="h-11 px-6 flex items-center justify-center rounded-full bg-purple-700 text-white hover:bg-purple-800 shadow">
                        Enregistrer les modifications
                    </button>
                    <a href="{{ path('app_sortie_show', {'id': s.id}) }}"
                       class="h-11 px-6 flex items-center justify-center rounded-full border border-gray-300 text-gray-700 bg-white hover:bg-gray-100 shadow-sm">
                        Annuler
                    </a>
                </div>

                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
