{% extends 'base.html.twig' %}

{% block title %}Modifier le participant{% endblock %}

{% block body %}
    <section class="py-10 my-auto dark:bg-gray-900">
        <div class="lg:w-[80%] md:w-[90%] w-[96%] mx-auto flex gap-4">
            <div class="lg:w-[88%] sm:w-[88%] w-full mx-auto shadow-2xl p-6 rounded-xl h-fit self-center dark:bg-gray-800/40">

                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h1 class="lg:text-3xl md:text-2xl text-xl font-serif font-extrabold dark:text-white">
                            Modifier le profil de {{ nomParticipant }}
                        </h1>
                        <p class="text-gray-500 text-sm dark:text-gray-400">Met à jour tes informations</p>
                    </div>
                </div>

                <div class="w-full py-16 rounded-lg bg-[url('https://images.unsplash.com/photo-1449844908441-8829872d2607?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080')] bg-cover bg-center bg-no-repeat mb-4"></div>

                {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
                {{ form_errors(form) }}

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <div>
                        {{ form_label(form.prenom, 'Prénom', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        {{ form_widget(form.prenom, {'attr': {
                            'class': 'mt-2 px-4 py-2 w-full border-2 rounded-lg focus:border-purple-500 outline-none dark:bg-gray-700 dark:text-gray-200 border-gray-300'
                        }}) }}
                        {{ form_errors(form.prenom) }}
                    </div>

                    <div>
                        {{ form_label(form.nom, 'Nom', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        {{ form_widget(form.nom, {'attr': {
                            'class': 'mt-2 px-4 py-2 w-full border-2 rounded-lg focus:border-purple-500 outline-none dark:bg-gray-700 dark:text-gray-200 border-gray-300'
                        }}) }}
                        {{ form_errors(form.nom) }}
                    </div>

                    <div>
                        {{ form_label(form.email, 'Email', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        {{ form_widget(form.email, {'attr': {
                            'class': 'mt-2 px-4 py-2 w-full border-2 rounded-lg focus:border-purple-500 outline-none dark:bg-gray-700 dark:text-gray-200 border-gray-300'
                        }}) }}
                        {{ form_errors(form.email) }}
                    </div>

                    <div>
                        {{ form_label(form.telephone, 'Téléphone', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        {{ form_widget(form.telephone, {'attr': {
                            'class': 'mt-2 px-4 py-2 w-full border-2 rounded-lg focus:border-purple-500 outline-none dark:bg-gray-700 dark:text-gray-200 border-gray-300'
                        }}) }}
                        {{ form_errors(form.telephone) }}
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Mot de passe</label>
                        <input type="password" value="********" disabled
                               class="mt-2 px-4 py-2 w-full border-2 rounded-lg bg-gray-100 dark:bg-gray-700 dark:text-gray-200 border-gray-300 cursor-not-allowed" />
                    </div>

                    <div>
                        {{ form_label(form.administrateur, 'Administrateur', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        <div class="mt-3">
                            {{ form_widget(form.administrateur, {'attr': {'class': 'h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500'}}) }}
                            {{ form_errors(form.administrateur) }}
                        </div>
                    </div>

                    <div>
                        {{ form_label(form.actif, 'Actif', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 dark:text-gray-300'}}) }}
                        <div class="mt-3">
                            {{ form_widget(form.actif, {'attr': {'class': 'h-5 w-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500'}}) }}
                            {{ form_errors(form.actif) }}
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-between items-center">
                    <a href="{{ path('app_participant_index') }}"
                       class="text-purple-600 font-semibold hover:underline">
                        ← Retour à la liste
                    </a>

                    <div class="flex gap-3">
                        <button type="submit"
                                class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 transition">
                            {{ button_label|default('Enregistrer') }}
                        </button>


                {{ form_row(form._token) }}
                {{ form_end(form, {'render_rest': false}) }}

                {{ include('participant/_delete_form.html.twig') }}

                    </div>
                </div>

            </div>
        </div>
    </section>
{% endblock %}
